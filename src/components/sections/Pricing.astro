---
const plans = [
  {
    name: 'Monthly',
    phase: 'Phase 2',
    price: 99,
    originalPrice: 199,
    period: '/month',
    description: 'Launch pricing for first 3 months, then $199/mo',
    features: [
      'Millisecond news delivery',
      'One-click trade execution',
      'Multi-exchange support',
      'Smart news filtering',
      'Real-time analytics',
      'Discord community access',
    ],
    cta: 'Get Launch Pricing',
    href: 'https://whop.com/247terminal/',
    popular: false,
  },
  {
    name: 'Annual',
    phase: 'Phase 2',
    price: 1799,
    originalPrice: 2388,
    period: '/year',
    description: 'Save $589 compared to monthly',
    features: [
      'Everything in Monthly',
      'Priority support',
      'Early access to new features',
      'Locked-in pricing',
      'Custom alerts setup',
      'Strategy consultation',
    ],
    cta: 'Save Now',
    href: 'https://whop.com/247terminal/',
    popular: true,
  },
  {
    name: 'Phase 3',
    phase: 'Coming 2026',
    price: 299,
    period: '/month',
    description: 'Standard pricing after launch period',
    features: [
      'All Phase 2 features',
      'Advanced AI filtering',
      'Custom integrations',
      'API access',
      'White-glove onboarding',
      'Dedicated support',
    ],
    cta: 'Join Waitlist',
    href: '#',
    popular: false,
    comingSoon: true,
  },
]
---

<section id="pricing" class="section relative overflow-hidden">
  <!-- Background accent -->
  <div class="absolute inset-0 gradient-mesh pointer-events-none" />

  <div class="container relative z-10">
    <!-- Section Header -->
    <div class="text-center max-w-3xl mx-auto mb-16 stagger">
      <span class="inline-block px-4 py-1.5 rounded-full bg-accent/10 text-accent text-sm font-medium mb-4">
        Pricing
      </span>
      <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-6">
        Professional Tools At
        <span class="text-accent"> Launch Pricing</span>
      </h2>
      <p class="text-text-secondary text-lg">
        Lock in early-bird pricing before Phase 3. Limited spots available at current rates.
      </p>
    </div>

    <!-- Pricing Cards -->
    <div class="grid md:grid-cols-3 gap-6 lg:gap-8 max-w-6xl mx-auto">
      {plans.map((plan) => (
        <div
          class:list={[
            'relative rounded-2xl p-5 sm:p-6 lg:p-8 transition-all duration-300',
            plan.popular
              ? 'card-accent md:scale-105'
              : 'card-elevated hover:border-border-accent',
            plan.comingSoon && 'opacity-75'
          ]}
        >
          {/* Popular badge */}
          {plan.popular && (
            <div class="absolute -top-4 left-1/2 -translate-x-1/2">
              <span class="px-4 py-1.5 rounded-full bg-accent text-bg-base text-sm font-semibold">
                Most Popular
              </span>
            </div>
          )}

          {/* Header */}
          <div class="mb-6">
            <span class="text-text-tertiary text-sm">{plan.phase}</span>
            <h3 class="text-xl font-bold mt-1">{plan.name}</h3>
          </div>

          {/* Price */}
          <div class="mb-6">
            <div class="flex items-baseline gap-2">
              <span class="text-3xl sm:text-4xl lg:text-5xl font-bold">${plan.price.toLocaleString()}</span>
              <span class="text-text-secondary text-sm sm:text-base">{plan.period}</span>
            </div>
            {plan.originalPrice && (
              <div class="mt-1">
                <span class="text-text-tertiary line-through text-sm">
                  ${plan.originalPrice.toLocaleString()}{plan.period}
                </span>
              </div>
            )}
            <p class="text-text-secondary text-sm mt-2">{plan.description}</p>
          </div>

          {/* Features */}
          <ul class="space-y-3 mb-8">
            {plan.features.map((feature) => (
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-accent shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                <span class="text-text-secondary text-sm">{feature}</span>
              </li>
            ))}
          </ul>

          {/* CTA */}
          <a
            href={plan.href}
            class:list={[
              'btn w-full justify-center',
              plan.popular ? 'btn-primary' : 'btn-secondary',
              plan.comingSoon && 'opacity-50 cursor-not-allowed pointer-events-none'
            ]}
            target={plan.comingSoon ? undefined : '_blank'}
            rel={plan.comingSoon ? undefined : 'noopener noreferrer'}
          >
            {plan.cta}
          </a>

          {/* Trust note */}
          {!plan.comingSoon && (
            <p class="text-text-tertiary text-xs text-center mt-4">
              Secure checkout via WHOP
            </p>
          )}
        </div>
      ))}
    </div>

    {/* FAQ or trust section */}
    <div class="mt-16 text-center">
      <p class="text-text-secondary">
        Questions? Join our{' '}
        <a
          href="https://discord.gg/247terminal"
          target="_blank"
          rel="noopener noreferrer"
          class="text-accent hover:underline"
        >
          Discord community
        </a>
        {' '}or contact us directly.
      </p>
    </div>
  </div>
</section>
