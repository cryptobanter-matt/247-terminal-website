---
import MobileMenu from '../interactive/MobileMenu'

const navLinks = [
  { href: '#results', label: 'Results' },
  { href: '#comparison', label: 'Comparison' },
  { href: '#features', label: 'Features' },
  { href: '#pricing', label: 'Pricing' },
]
---

<header
  id="header"
  class="fixed top-0 inset-x-0 z-50 transition-all duration-300 overflow-hidden w-full max-w-[100vw] border-b border-transparent"
>
  <div class="container">
    <nav class="flex items-center justify-between h-16 md:h-20">
      <a href="/" class="flex items-center group">
        <svg class="h-6 md:h-7" viewBox="0 0 538.56 120.24" xmlns="http://www.w3.org/2000/svg">
          <polygon class="logo-text" points="506.16 48.72 506.16 96.96 538.56 96.96 538.44 81 523.92 80.88 523.92 .48 506.16 .48 506.16 48.72"/>
          <path class="logo-accent" d="M0,60.12c0,39.92.08,60.12.24,60.12.13,0,.54-.19.9-.42s1.87-1.28,3.35-2.34c1.48-1.06,3.78-2.68,5.1-3.6,1.33-.92,3.7-2.6,5.28-3.72,1.57-1.12,4.33-3.07,6.12-4.32,1.8-1.25,3.99-2.8,4.88-3.43.88-.63,2.41-1.71,3.4-2.4.98-.69,2.22-1.55,2.76-1.92l.97-.66h111.72s0-97.43,0-97.43H0v60.12Z"/>
          <path class="logo-text" d="M121.68,12.48l-.08,7.86c-.08,7.47-.12,8-.73,10.74-.35,1.58-1.13,4.82-1.73,7.2-.61,2.38-1.91,7.24-2.91,10.8-.99,3.56-2.1,7.56-2.47,8.88-.37,1.32-1.21,4.34-1.88,6.72-.66,2.38-1.65,6.05-2.18,8.16-.53,2.11-1.19,4.92-1.46,6.24-.27,1.32-.49,2.7-.48,3.72h-13.68v-.9c0-.49.21-2.09.46-3.54s.9-4.48,1.45-6.72c.54-2.24,1.58-6.29,2.32-9,.73-2.71,2.23-8.11,3.33-12,1.11-3.89,2.78-9.94,3.71-13.44s1.91-7.47,2.17-8.82c.27-1.35.48-2.62.48-2.82,0-.3-.49-.36-6-.36v12l-13.56-.12-.06-12c-.04-6.6,0-12.13.05-12.3.09-.24,3.65-.3,33.25-.3ZM84.24,12.48v49.2l2.76.12v11.76l-2.76.12v9.12h-13.68v-9.12h-18.96v-11.88l.97-2.52c.54-1.39,1.83-4.73,2.87-7.44,1.04-2.71,2.61-6.76,3.48-9,.87-2.24,2.16-5.59,2.88-7.44.71-1.85,2-5.2,2.87-7.44.87-2.24,2.52-6.51,3.65-9.48,1.14-2.97,2.17-5.53,2.3-5.7.18-.23,1.86-.3,13.62-.3ZM32.52,11.7c.66.04,1.96.19,2.88.33.92.15,2.49.57,3.48.95.99.37,2.45,1.1,3.24,1.61.79.51,2.04,1.57,2.76,2.35.73.78,1.62,2.01,1.98,2.74.35.73.81,1.97,1.01,2.76.3,1.14.37,2.97.37,8.82,0,6.87-.03,7.48-.51,8.88-.27.82-.87,2.07-1.32,2.76-.44.69-1.7,2.19-2.79,3.33s-3.92,3.77-6.3,5.84c-2.38,2.08-5.06,4.57-5.96,5.55-.9.98-1.9,2.32-2.22,2.98-.55,1.13-.59,1.43-.58,9.48h6v-11.76h13.68l-.12,24.36-33.24.12v-12.9c.01-11.62.06-13.02.43-14.1.23-.66.85-1.84,1.37-2.63.53-.78,1.72-2.23,2.64-3.21.92-.99,3.52-3.42,5.76-5.4,2.24-1.99,4.82-4.37,5.73-5.31.91-.93,1.96-2.12,2.33-2.65.36-.53.84-1.45,1.05-2.04.3-.85.38-2.07.38-5.64,0-4.25-.04-4.63-.55-5.64-.3-.59-.81-1.22-1.14-1.39-.33-.17-1.1-.28-1.71-.24-.7.04-1.3.25-1.63.55-.29.26-.63.86-.75,1.32-.13.46-.23,3.73-.23,13.68h-13.68v-6.9c.01-3.9.12-7.37.26-7.98.14-.59.58-1.78.99-2.64.51-1.08,1.27-2.08,2.45-3.24,1.05-1.04,2.34-2.02,3.38-2.56.92-.48,2.44-1.11,3.36-1.39s2.65-.59,3.84-.69c1.19-.09,2.7-.14,3.36-.1ZM133.5,5.28c.88,0,1.7.16,2.28.46.5.25,1.19.76,1.55,1.14.35.37.81,1.09,1.02,1.58.2.5.37,1.39.37,1.98s-.17,1.49-.37,1.98c-.21.5-.67,1.21-1.02,1.58-.36.38-1.03.88-1.49,1.11s-1.22.49-1.68.58c-.5.09-1.35.01-2.1-.21-.69-.2-1.6-.66-2.01-1.02-.42-.36-.96-1.06-1.2-1.56-.25-.49-.51-1.3-.59-1.8-.08-.49-.03-1.33.11-1.86.13-.53.55-1.4.93-1.94.4-.58,1.12-1.2,1.75-1.5.71-.35,1.53-.52,2.45-.52ZM475.2,21.72c0,2.7-.42,9.06-1.32,19.98-.73,8.81-1.32,16.37-1.32,16.8v.78c6.87,0,7.44-.06,7.44-.36,0-.2-.59-7.57-1.32-16.38-.96-11.69-1.32-17.2-1.32-20.4v-4.38h-2.16v3.96ZM476.76.48c11.89,0,13.56.04,13.56.36,0,.2,2.54,21.5,5.64,47.34,3.1,25.84,5.69,47.39,5.88,48.78h-18.6l-1.92-23.04h-5.1c-3.92,0-5.1.07-5.1.3.01.16-.37,5-.84,10.74-.47,5.74-.9,10.79-1.08,12h-17.76l.12-.66c.07-.36,2.71-22.02,5.88-48.12,3.17-26.1,5.76-47.51,5.76-47.58s6.1-.12,13.56-.12ZM397.44.48h20.28l4.99,22.98c4.72,21.73,5.02,23.3,6.3,34.74l1.02.06c.83.05,1.01-.02,1.01-.36,0-.23-.33-2.96-1.44-11.7V.48h17.76v96.48l-20.24-.12-4.89-22.44c-4.24-19.49-4.98-23.18-5.59-28.08-.4-3.1-.77-5.99-.84-6.42-.11-.75-.17-.78-1.2-.78s-1.08.02-.96.66c.07.36.45,3.2,1.56,11.94v45.24h-17.76V.48ZM372.24.48h17.76v96.48h-17.76V.48ZM290.4.48h31.32l2.47,31.86c2.44,31.45,2.47,31.96,2.45,47.34h2.4v-8.28q0-8.27,2.4-39.06c1.32-16.93,2.4-31.02,2.4-31.86h30.72v96.48h-17.52V19.92h-.9c-.89-.01-.9.01-1.08,1.14-.1.63-.18,2.11-.18,3.3s-1.35,17.9-3,37.14-3,35.09-3,35.22c0,.16-3.92.24-22.56.24l-.11-.54c-.05-.3-1.46-16.2-3.12-35.34-2.01-23.14-3.02-35.87-3.01-41.16h-2.04l.12,77.04h-17.76V.48ZM256.32,45.12c6.88-.12,6.93-.13,7.94-.84.56-.4,1.24-1.15,1.52-1.68.48-.92.5-1.36.57-11.16.05-6.98-.01-10.54-.2-11.28-.14-.59-.55-1.45-.91-1.91-.35-.45-1.07-1.01-1.6-1.25-.76-.34-1.61-.43-4.14-.43h-3.18s0,28.55,0,28.55ZM238.58.46l14.45.08c14.07.08,14.5.1,16.49.62,1.12.3,2.9.96,3.96,1.46,1.06.51,2.71,1.56,3.68,2.33.97.78,2.31,2.11,2.96,2.97.66.86,1.56,2.32,2,3.24.43.92.98,2.38,1.22,3.24.39,1.4.45,2.93.53,15.12.06,9.63,0,14.08-.2,15.36-.15.99-.6,2.66-.99,3.72-.39,1.06-1.17,2.62-1.74,3.48-.57.86-1.7,2.15-3.97,4.2l4.19,19.44c2.31,10.69,4.3,19.85,4.68,21.24l-17.87-.12-1.71-8.76c-.94-4.82-2.54-13.05-5.38-27.84h-4.56v36.72h-17.76l.02-96.5ZM199.2.48h33.12v16.08h-15.36v23.76h13.92v15.6h-13.92v24.96l15.24.12.12,15.96h-33.12V.48ZM156.96.48h37.44v16.08h-9.84v80.4h-17.76V16.56h-9.84V.48Z"/>
          <path class="logo-accent" d="M67.8,51.54c-1.43,3.79-2.91,7.63-3.28,8.52l-.68,1.62h6.72c0-13.21-.03-17.04-.08-17.04-.04,0-1.25,3.1-2.68,6.9Z"/>
        </svg>
      </a>

      <!-- Desktop Navigation - centered to page, hidden until scroll -->
      <div id="nav-links" class="hidden md:flex items-center gap-8 opacity-0 transition-opacity duration-300 pointer-events-none absolute left-1/2 -translate-x-1/2">
        {navLinks.map((link) => (
          <a
            href={link.href}
            class="text-text-secondary hover:text-text-primary transition-colors relative group"
          >
            {link.label}
            <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-accent transition-all duration-300 group-hover:w-full" />
          </a>
        ))}
      </div>

      <!-- CTA Buttons -->
      <div class="hidden md:flex items-center gap-3">
        <a
          href="https://discord.com/invite/uBrhYNDEpY"
          target="_blank"
          rel="noopener noreferrer"
          class="p-2 text-text-secondary hover:text-accent transition-colors"
          aria-label="Join our Discord"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.947 2.418-2.157 2.418z"/>
          </svg>
        </a>
        <a
          href="https://twitter.com/247terminal"
          target="_blank"
          rel="noopener noreferrer"
          class="p-2 text-text-secondary hover:text-accent transition-colors"
          aria-label="Follow us on X"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
          </svg>
        </a>
        <a
          href="https://app.247terminal.com"
          class="btn text-sm font-bold text-accent border border-accent hover:bg-accent/10 transition-colors w-32 justify-center"
        >
          Open Terminal
        </a>
        <a
          href="#pricing"
          class="btn btn-primary text-sm w-32 justify-center whitespace-nowrap border border-transparent"
        >
          Get Access
        </a>
      </div>

      <!-- Mobile Menu -->
      <MobileMenu client:load navLinks={navLinks} />
    </nav>
  </div>
</header>

<!-- Header scroll effect -->
<script>
  const header = document.getElementById('header')
  const navLinks = document.getElementById('nav-links')
  const heroSection = document.getElementById('hero')

  function updateHeader() {
    const heroBottom = heroSection?.getBoundingClientRect().bottom ?? 0
    const scrolledPastHero = heroBottom < 100

    if (window.scrollY > 50) {
      header?.classList.add('bg-bg-surface/70', 'backdrop-blur-xl', 'shadow-lg', 'border-border')
      header?.classList.remove('border-transparent')
    } else {
      header?.classList.remove('bg-bg-surface/70', 'backdrop-blur-xl', 'shadow-lg', 'border-border')
      header?.classList.add('border-transparent')
    }

    if (scrolledPastHero) {
      navLinks?.classList.remove('opacity-0', 'pointer-events-none')
      navLinks?.classList.add('opacity-100', 'pointer-events-auto')
    } else {
      navLinks?.classList.add('opacity-0', 'pointer-events-none')
      navLinks?.classList.remove('opacity-100', 'pointer-events-auto')
    }
  }

  window.addEventListener('scroll', updateHeader, { passive: true })
  updateHeader()
</script>
